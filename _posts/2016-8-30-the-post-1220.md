---
tags: []
layout: post
title: 旭阳MES管理驾驶舱第三方应用接口手册
category: Uncategoried
---
# **旭阳MES管理驾驶舱第三方应用接口手册**

## API网址

测试期间，接口网址基于此URL： http://网址/api/app/ ，后文调用时使用此URL作为调用前缀。

----

## 调用约定

除特别说明外，所有调用均遵守如下原则：

1. HTTP Method 支持 GET 和 POST
2. 编码为 UTF-8
3. 发送和接收均为 JSON 数据格式，需要在 Header 声明 Content-Type 为 application/json 或 application/javascript

## 返回值约定

除特别说明外，所有调用的返回值均返回统一的 JSON 格式：

```javascript
{
  "Status": true,
  "Data": null,
  "Message": ""
}
```

| 键       | 含义         | 说明              |
| ------- | ---------- | --------------- |
| Status  | 操作是否成功     |                 |
| Data    | 操作所需要返回的数据 | 如果操作不返回数据则该项不显示 |
| Message | 提示信息       | 一般发生错误时用来显示错误信息 |

------

## 发送新消息

### 调用地址

```url
/message/send
```

### 调用方法

​	POST

### URL参数
​	无

### 请求体

| 参数名     | 值    | 说明                                  |
| ------- | ---- | :---------------------------------- |
| appid   | 应用ID |                                     |
| secret  | 应用密钥 |                                     |
| title   | 消息标题 |                                     |
| source  | 消息来源 |                                     |
| type    | 消息类别 | 类别传入                                |
| content | 消息内容 |                                     |
| sender  | 发送者  |                                     |
| time    | 消息时间 | 该时间由调用端随意定义,格式为 2016-08-29 06:07:12 |

### 返回值

​	操作成功时，Data 返回消息的 ID，调用者可通过该  ID 查询消息状态

```javascript
{
  "Status": true,
  "Data": "52ed347c-6f4f-417b-8150-c2c72b191c80",
  "Message": ""
}
```
​	操作失败时，Data 不返回数据，Message 返回失败原因

```javascript
{
  "Status": false,
  "Data": null,
  "Message": "没有操作权限,传入的鉴权信息不正确"
}
```
---

## 查询消息状态

### 调用地址

```url
/message/status/消息ID
```

> 例如 : /message/status/15d31e53-36eb-44b2-ad25-f475f6012fd61

### 调用方法

​	POST

### URL参数
​	无

### 请求体

| 参数名    | 值    | 说明   |
| ------ | ---- | :--- |
| appid  | 应用ID |      |
| secret | 应用密钥 |      |

### 返回值

​	操作成功时，Data 返回消息简要内容，Message 返回消息状态描述

```javascript
{
  "Status": true,
  "Data": {
    "id": "15d31e53-36eb-44b2-ad25-f475f6012fd6",
    "appId": 100000,
    "title": "测试",
    "status": 0,
    "time": "2016-08-29T11:35:00",
    "createTime": "2016-08-29T11:57:06.153",
    "sendTime": null
  },
  "Message": "待发送"
}
```
​	操作失败时，Data 不返回数据，Message 返回失败原因

```javascript
{
  "Status": false,
  "Data": null,
  "Message": "消息 id 不正确"
}
```